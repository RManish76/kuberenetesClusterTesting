# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

#this act as key and value and same will be accessed by the eazybank-common heml chart.

deploymentName: gatewayserver-deployment
serviceName: gatewayserver
appLabel: gatewayserver
appName: gatewayserver

replicaCount: 1

image:
  repository: eazybytes/gatewayserver #image name
  tag: s11 #image tag

containerPort: 8072 #container port

service:
  type: LoadBalancer #as we don't want to expose the gatewayserver MS outside of kubernetes cluster hence we are using service type as clusterIP
  port: 8072 #
  targetPort: 8072

#required enviornment varaibles for gatewayserver MS. as we are checking if condition in eazybank-common before passing the environment variable to the MS.
appname_enabled: true
profile_enabled: true
config_enabled: true
# eureka_enabled: true
discovery_enabled: true
resouceserver_enabled: true #keycloak related. as only gatewayserver need it. and all other MS does not need it.
otel_enabled: true

kafka_enabled: false


global:
  configMapName: eazybankdev-configmap
  activeProfile: default
  configServerURL: configserver:http://configserver:8071/
  # eurekaServerURL: http://eurekaserver:8070/eureka/
  discoveryServerURL: "http://spring-cloud-kubernetes-discoveryserver:80/"  #the service name spring-cloud-kubernetes-discoveryserver is defined in kubernetes-discoveryserver.yml at line 10 as metadata.name also port is there.
  keyCloakURL: http://keycloak.default.svc.cluster.local:80/realms/master/protocol/openid-connect/certs #in statard production envirnoment and kubdernetes cluster of the thirds party componets like KeyCloak, Kafka, grafana etc with helm chart are deployed like this in production standards. these will install helm chart available in web
  openTelemetryJavaAgent: "-javaagent:/app/libs/opentelemetry-javaagent-2.22.0.jar"
  otelExporterEndPoint: http://tempo.default.svc.cluster.local:4318
  otelMetricsExporter: none
  otelLogsExporter: none
  kafkaBrokerURL: kafka-controller-0.kafka-controller-headless.default.svc.cluster.local:9092
